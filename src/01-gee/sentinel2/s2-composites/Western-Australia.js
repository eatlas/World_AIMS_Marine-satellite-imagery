var s2Utils = require('users/ericlawrey/World_AIMS_Marine-satellite-imagery:src/gee/s2Utils.js');

// Primary imagery
var REF1_OPTIONS = {
 // colourGrades: ['DeepFalse','TrueColour','ReefTop','Shallow','Slope'],
 // exportScale: [10, 10, 10, 10, 30],
  
  //colourGrades: ['DeepFalse','TrueColour','Depth5m', 'Depth10m'],
  //exportScale: [10, 10, 10, 10],
  colourGrades: ['TrueColour'],
  exportScale: [10],
  exportBasename: 'World_AIMS_Marine-satellite-imagery_S2_R1',
  exportFolder: 'EarthEngine/World_AIMS_Marine-satellite-imagery/Western-Australia',
  
  applySunglintCorrection: true,
  applyBrightnessAdjustment: true
};

var REF2_OPTIONS = {
 // colourGrades: ['DeepFalse','TrueColour','ReefTop','Shallow','Slope'],
 // exportScale: [10, 10, 10, 10, 30],
  
  //colourGrades: ['DeepFalse','TrueColour','Depth5m', 'Depth10m'],
  //exportScale: [10, 10, 10, 10],
  colourGrades: ['TrueColour'],
  exportScale: [10],
  exportBasename: 'World_AIMS_Marine-satellite-imagery_S2_R2',
  exportFolder: 'EarthEngine/World_AIMS_Marine-satellite-imagery/Western-Australia',
  
  applySunglintCorrection: true,
  applyBrightnessAdjustment: true
};

var imgIds;


// 51KXB - Australia, WA, Wallcott Inlet
// CLOUDY_PIXEL_PERCENTAGE = 2
// 2022-01 - 2023-12
s2Utils.s2_composite_display_and_export(
  [
    // OK
    "COPERNICUS/S2_HARMONIZED/20230530T015621_20230530T015623_T51KXB",
    "COPERNICUS/S2_HARMONIZED/20230729T015621_20230729T015624_T51KXB",
    "COPERNICUS/S2_HARMONIZED/20220709T015629_20220709T015849_T51KXB",
  ],
  false, true, REF1_OPTIONS);
  
s2Utils.s2_composite_display_and_export(
  [
    // Low tide
    "COPERNICUS/S2_HARMONIZED/20220306T015621_20220306T020058_T51KXB",
    "COPERNICUS/S2_HARMONIZED/20230823T015629_20230823T015623_T51KXB",
    "COPERNICUS/S2_HARMONIZED/20220704T015631_20220704T015634_T51KXB",
    "COPERNICUS/S2_HARMONIZED/20220719T015629_20220719T015849_T51KXB",
    "COPERNICUS/S2_HARMONIZED/20220818T015629_20220818T015847_T51KXB",
    "COPERNICUS/S2_HARMONIZED/20220902T015631_20220902T015633_T51KXB",
    "COPERNICUS/S2_HARMONIZED/20220917T015619_20220917T015846_T51KXB"
  ],
  false, true, REF2_OPTIONS);
  
// 51LXC - Australia, WA, Montgomery Reef
// CLOUDY_PIXEL_PERCENTAGE = 2
// 2022-01 - 2023-12
s2Utils.s2_composite_display_and_export(
  [
    // Excellent
    "COPERNICUS/S2_HARMONIZED/20220425T015631_20220425T020100_T51LXC",
    "COPERNICUS/S2_HARMONIZED/20220510T015619_20220510T015842_T51LXC",
    "COPERNICUS/S2_HARMONIZED/20220709T015629_20220709T015849_T51LXC",
    "COPERNICUS/S2_HARMONIZED/20220724T015631_20220724T015631_T51LXC",
    "COPERNICUS/S2_HARMONIZED/20220808T015629_20220808T015848_T51LXC",
    "COPERNICUS/S2_HARMONIZED/20220823T015631_20220823T015633_T51LXC",
    "COPERNICUS/S2_HARMONIZED/20230530T015621_20230530T015623_T51LXC",
    "COPERNICUS/S2_HARMONIZED/20230729T015621_20230729T015624_T51LXC",
    "COPERNICUS/S2_HARMONIZED/20230813T015629_20230813T015624_T51LXC",
    "COPERNICUS/S2_HARMONIZED/20230828T015631_20230828T015625_T51LXC"
  ],
  false, true, REF1_OPTIONS);
  
  s2Utils.s2_composite_display_and_export(
  [
    // Low tide
    "COPERNICUS/S2_HARMONIZED/20220704T015631_20220704T015634_T51LXC",
    "COPERNICUS/S2_HARMONIZED/20220719T015629_20220719T015849_T51LXC",
    "COPERNICUS/S2_HARMONIZED/20220818T015629_20220818T015847_T51LXC",
    "COPERNICUS/S2_HARMONIZED/20220902T015631_20220902T015633_T51LXC",
    "COPERNICUS/S2_HARMONIZED/20220917T015619_20220917T015846_T51LXC",
    "COPERNICUS/S2_HARMONIZED/20230624T015629_20230624T015833_T51LXC",
    "COPERNICUS/S2_HARMONIZED/20230709T015621_20230709T015624_T51LXC",
    "COPERNICUS/S2_HARMONIZED/20230724T015629_20230724T015835_T51LXC",
    "COPERNICUS/S2_HARMONIZED/20230808T015621_20230808T015624_T51LXC",
    "COPERNICUS/S2_HARMONIZED/20230823T015629_20230823T015623_T51LXC"
  ],
  false, true, REF2_OPTIONS);

// 51LWC - Australia, WA, Buccaneer Archipelago
// CLOUDY_PIXEL_PERCENTAGE = 2
// 2022-01-01 - 2022-11-04
s2Utils.s2_composite_display_and_export(
  [
    // Excellent
    "COPERNICUS/S2_HARMONIZED/20220510T015619_20220510T015842_T51LWC",
    "COPERNICUS/S2_HARMONIZED/20220707T020501_20220707T020458_T51LWC",
    "COPERNICUS/S2_HARMONIZED/20220709T015629_20220709T015849_T51LWC",
    "COPERNICUS/S2_HARMONIZED/20220823T015631_20220823T015633_T51LWC",

    // Clear water
    "COPERNICUS/S2_HARMONIZED/20220314T020449_20220314T021008_T51LWC",
    "COPERNICUS/S2_HARMONIZED/20220607T020451_20220607T020453_T51LWC",
    "COPERNICUS/S2_HARMONIZED/20220627T020501_20220627T020458_T51LWC",
    "COPERNICUS/S2_HARMONIZED/20220712T020449_20220712T020605_T51LWC",
    "COPERNICUS/S2_HARMONIZED/20220727T020501_20220727T020455_T51LWC",
    "COPERNICUS/S2_HARMONIZED/20220907T015619_20220907T015846_T51LWC"
  ],
  false, true, REF1_OPTIONS);
  
  s2Utils.s2_composite_display_and_export(
  [
    // Low tide
    "COPERNICUS/S2_HARMONIZED/20220704T015631_20220704T015634_T51LWC",
    "COPERNICUS/S2_HARMONIZED/20220719T015629_20220719T015849_T51LWC",
    "COPERNICUS/S2_HARMONIZED/20220722T020449_20220722T020606_T51LWC",
    "COPERNICUS/S2_HARMONIZED/20220821T020449_20220821T020602_T51LWC"
  ],
  false, true, REF2_OPTIONS);
  
// 51KWB - Australia, WA, King Sound
// CLOUDY_PIXEL_PERCENTAGE = 2
// 2022-01-01 - 2022-12-30
s2Utils.s2_composite_display_and_export(
  [
    // OK - right
    "COPERNICUS/S2_HARMONIZED/20220331T015619_20220331T015715_T51KWB",
    "COPERNICUS/S2_HARMONIZED/20220510T015619_20220510T015842_T51KWB",
    "COPERNICUS/S2_HARMONIZED/20220709T015629_20220709T015849_T51KWB",
    "COPERNICUS/S2_HARMONIZED/20220729T015629_20220729T015849_T51KWB",
    "COPERNICUS/S2_HARMONIZED/20220808T015629_20220808T015848_T51KWB",
    "COPERNICUS/S2_HARMONIZED/20220823T015631_20220823T015633_T51KWB",
    "COPERNICUS/S2_HARMONIZED/20220922T015631_20220922T015628_T51KWB",

    // OK left
    "COPERNICUS/S2_HARMONIZED/20220508T020451_20220508T020648_T51KWB",
    "COPERNICUS/S2_HARMONIZED/20220523T020449_20220523T020637_T51KWB",
    "COPERNICUS/S2_HARMONIZED/20220607T020451_20220607T020453_T51KWB",
    "COPERNICUS/S2_HARMONIZED/20220612T020449_20220612T020604_T51KWB",
    "COPERNICUS/S2_HARMONIZED/20220622T020449_20220622T020605_T51KWB",
    "COPERNICUS/S2_HARMONIZED/20220707T020501_20220707T020458_T51KWB",
    "COPERNICUS/S2_HARMONIZED/20220722T020449_20220722T020606_T51KWB",
    "COPERNICUS/S2_HARMONIZED/20220727T020501_20220727T020455_T51KWB"
  ],
  false, false, REF1_OPTIONS);
  
s2Utils.s2_composite_display_and_export(
  [
    // Low tide Right
    "COPERNICUS/S2_HARMONIZED/20220306T015621_20220306T020058_T51KWB",
    "COPERNICUS/S2_HARMONIZED/20220405T015621_20220405T020056_T51KWB",
    "COPERNICUS/S2_HARMONIZED/20220520T015619_20220520T015844_T51KWB",
    "COPERNICUS/S2_HARMONIZED/20220704T015631_20220704T015634_T51KWB",

    // Low tid left
    "COPERNICUS/S2_HARMONIZED/20220423T020439_20220423T021004_T51KWB",
    "COPERNICUS/S2_HARMONIZED/20220801T020449_20220801T020606_T51KWB",
    "COPERNICUS/S2_HARMONIZED/20220806T020501_20220806T020456_T51KWB"
  ],
  false, false, REF2_OPTIONS);
  

// 49KGR - Australia, WA, Ningaloo reef
// CLOUDY_PIXEL_PERCENTAGE = 0.1
// 25 of 186 Images
s2Utils.s2_composite_display_and_export(
  [
    // Excellent
    "COPERNICUS/S2/20160617T024346_20160617T073207_T49KGR",
    "COPERNICUS/S2/20170222T024321_20170222T024315_T49KGR",
    "COPERNICUS/S2/20170403T024321_20170403T024318_T49KGR",
    "COPERNICUS/S2/20170513T024321_20170513T024338_T49KGR",
    "COPERNICUS/S2/20170707T024349_20170707T024343_T49KGR",
    "COPERNICUS/S2/20170717T024319_20170717T024321_T49KGR",
    "COPERNICUS/S2/20170806T024319_20170806T024320_T49KGR",
     // Good
    "COPERNICUS/S2/20150911T024346_20170202T024416_T49KGR",
    "COPERNICUS/S2/20151001T024346_20151001T024346_T49KGR",
    "COPERNICUS/S2/20160208T021842_20160208T024034_T49KGR",
    "COPERNICUS/S2/20160816T024352_20160816T073202_T49KGR"
  ],
  false, false, REF1_OPTIONS);
  
  // Australia, WA, Shark bay. This scene is used to highlight
// recognising dark substrates due to the seagrass meadows.
// CLOUDY_PIXEL_PERCENTAGE = 0.1
//  30 of 336 images
s2Utils.s2_composite_display_and_export(
  [
  // Excellent - Left
    "COPERNICUS/S2/20151001T024446_20151001T024444_T49JGM",//, // Left
    "COPERNICUS/S2/20160309T021612_20160309T023621_T49JGM", // Dark green (sun glint correction artefact?)
    "COPERNICUS/S2/20160329T024439_20160329T093513_T49JGM", // Dark green 
    "COPERNICUS/S2/20160617T024442_20160617T024444_T49JGM",
    "COPERNICUS/S2/20160826T024322_20160826T024322_T49JGM",
    "COPERNICUS/S2/20161005T024322_20161005T024317_T49JGM",
  
  // Excellent - right
    "COPERNICUS/S2/20151008T023306_20151008T023308_T49JGM", // Right
    "COPERNICUS/S2/20160614T023442_20160614T023445_T49JGM",
    "COPERNICUS/S2/20160624T023250_20160624T090716_T49JGM",
    "COPERNICUS/S2/20160902T023442_20160902T023442_T49JGM",
    "COPERNICUS/S2/20161012T023442_20161012T023437_T49JGM",
    "COPERNICUS/S2/20161022T023242_20161022T023245_T49JGM"
  ],
  false, false, REF1_OPTIONS);
  
// Australia, Western Australia, Port Headland
//CLOUDY_PIXEL_PERCENTAGE = 0.1
// 60 of 180 images
s2Utils.s2_composite_display_and_export(
  [
    // Excellent
    // (X) water clarity index 1 - very poor, 5 - excellent (visbility to 25 m)
    "COPERNICUS/S2/20160830T021342_20160830T021830_T50KPC", // (5)
    //"COPERNICUS/S2/20170711T021919_20170711T021946_T50KPC", // (2)
    //"COPERNICUS/S2/20170716T021921_20170716T021946_T50KPC", // (2)
    "COPERNICUS/S2/20170805T021921_20170805T022157_T50KPC", // (5)
    //"COPERNICUS/S2/20170914T021921_20170914T022153_T50KPC", // (2)
    //"COPERNICUS/S2/20180626T021349_20180626T021727_T50KPC", // (2)
    //"COPERNICUS/S2/20180706T021349_20180706T022146_T50KPC", // (2)
    "COPERNICUS/S2/20180711T021351_20180711T022105_T50KPC", // (4)
    "COPERNICUS/S2/20180810T021341_20180810T022115_T50KPC", // (3)
    "COPERNICUS/S2/20180820T021341_20180820T022233_T50KPC", // (3)
    "COPERNICUS/S2/20180825T021339_20180825T022252_T50KPC", // (4)
    "COPERNICUS/S2/20180904T021339_20180904T022251_T50KPC", // (4)  // Dredging plume
    "COPERNICUS/S2/20180909T021341_20180909T021620_T50KPC", // (3)  // Dredging plume
  ],
  false, false, REF1_OPTIONS);

// Australia, Western Australia, North of Port Headland
//CLOUDY_PIXEL_PERCENTAGE = 0.1
// 60 of 172 images
s2Utils.s2_composite_display_and_export(
  [
  // Excellent
    //"COPERNICUS/S2/20160402T021342_20160402T021905_T50KPD", // (2) // Dark water
    //"COPERNICUS/S2/20170716T021921_20170716T021946_T50KPD", // (2)
    "COPERNICUS/S2/20170805T021921_20170805T022157_T50KPD", // (5)
    "COPERNICUS/S2/20170820T021919_20170820T021942_T50KPD", // (4)
    "COPERNICUS/S2/20180711T021351_20180711T022105_T50KPD", // (4)
    "COPERNICUS/S2/20180810T021341_20180810T022115_T50KPD"  // (3)
  ],
  false, false, REF1_OPTIONS);
  
// Australia, Western Australia, North East of Port Headland
// CLOUDY_PIXEL_PERCENTAGE = 0.1
// 45 of 164 images
s2Utils.s2_composite_display_and_export(
  [
    // Excellent
    "COPERNICUS/S2/20170606T021351_20170606T022113_T50KQD", // (4)
    //"COPERNICUS/S2/20170716T021921_20170716T021946_T50KQD", // (3)
    //"COPERNICUS/S2/20170731T021919_20170731T021945_T50KQD", // (3)
    "COPERNICUS/S2/20170805T021921_20170805T022157_T50KQD", // (5)
    //"COPERNICUS/S2/20170914T021921_20170914T022153_T50KQD", // (3)
    //"COPERNICUS/S2/20170711T021919_20170711T021946_T50KQD", // (2)
    //"COPERNICUS/S2/20180621T021341_20180621T021818_T50KQD", // (3)
    //"COPERNICUS/S2/20180626T021349_20180626T021727_T50KQD", // (3)
    //"COPERNICUS/S2/20180706T021349_20180706T022146_T50KQD", // (3) wave noise further out
    "COPERNICUS/S2/20180711T021351_20180711T022105_T50KQD", // (5)
    "COPERNICUS/S2/20180810T021341_20180810T022115_T50KQD", // (5)
    "COPERNICUS/S2/20180820T021341_20180820T022233_T50KQD", // (4)
    "COPERNICUS/S2/20180825T021339_20180825T021604_T50KQD", // (4) partial scene
    "COPERNICUS/S2/20180904T021339_20180904T021603_T50KQD" // (4) partial scene
    //"COPERNICUS/S2/20180909T021341_20180909T021620_T50KQD" // (3)

    // Good
    //"COPERNICUS/S2/20180507T021349_20180507T021828_T50KQD" // (3)
  ],
  false, false, REF1_OPTIONS);
  
//8:39 pm - 8:52 pm (13 min)
// Speed run
// Cloud pixel percentage = 0
// 42 of 419
imgIds = [
    //"COPERNICUS/S2/20160309T021612_20160309T023621_T49KGQ", // 3 nutrient plumes 
    "COPERNICUS/S2/20160915T024322_20160915T024317_T49KGQ", // 2 nutrient plumes
    //"COPERNICUS/S2/20170222T024321_20170222T024315_T49KGQ", // 3 nutrient plumes
    "COPERNICUS/S2/20170513T024321_20170513T024338_T49KGQ", // 2
    "COPERNICUS/S2/20170717T024319_20170717T024321_T49KGQ", // 2
    "COPERNICUS/S2/20170806T024319_20170806T024320_T49KGQ"  // 2
];
s2Utils.s2_composite_display_and_export(imgIds, true, false, REF1_OPTIONS);